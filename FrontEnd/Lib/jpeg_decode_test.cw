(module [] :
(import test)

(import checksum)

(import fmt)

(import JD jpeg_decode)


(global test_image auto x"""
   ffd8ffe000104a46 4946000101000001 00010000ffdb0084 0009060712101212 1011101616151517 1515161615191515 19171515181d1618 151817181f282018
   1e251d1715213121 252a2b2e2e2e181f 3338332d37282d2e 2b010a0a0a0e0d0e 1a10101b2d1d2025 2b2b2b2f2b2d2b2d 2f312d2d2d2d2f30 2d2d2f2d2d2b2f2f
   2d2d2b2d2d2b2d2d 2d2d2b2d2d2d2b2d 2d2d2e2d2e2d2d2d 2e2bffc000110800 cc00f80301110002 1101031101ffc400 1c00000105010101 0000000000000000
   0000040003050607 020801ffc4005110 0001020302050b11 0605020701000000 0102030004110521 1213313251062233 414252717273b2d2 0714233453546162
   8182919293a1b1b3 d1151617354374a2 b4c1c2d308632444 55838485e1c4ffc4 001b010100010501 0000000000000000 0000000005010203 040607ffc4004011
   0100010201060a08 0502060300000000 0001020304051131 3271911213141521 335153b1c1063441 52728192d1223561 a1e1236207164243 82b224f0f1ffda00
   0c03010002110311 003f00b54e4aacb8 e1a6e95b69d27c30 0f5972ca0e548dc3 9b69db41f0c00825 17a3de9fac0172b2 cac53e29942297a7 7fc300275a2f47bd
   3f5802d52cac4245 2fc6a8e54ef47860 04eb45e8f7a7eb00 5cf4b28a59bb2374 37a77caf0c008651 7a3de9fac0176bcb 28bcb206d8db4ef4 786039b325961e68
   919169db4e9e1806 1c955d4ddb676d3f 58026ce96502e546 569c1953948e1801 3ad17a3de9fac016 c4b2b12e8a5e54de da76b0bc300275a2 f47bd3f5802de965
   625a14bc29cdb4ed e0f86004eb45e8f7 a7eb005da32ca25b a0c8d3632a72d386 0066e5175176d8db 4fd601fb4e5965e7 481956adb4e9e180 eac9965079048d3b
   69de9f0c0082517a 3de9fac017232ca0 97aecadd05e9df27 c300275a2f47bd3f 5802d32cac42852f c6a4e54e4c13e180 13ad17a3de9fac01 7352ca2d3029902e
   b7a77fc30021945e 8f7a7eb005dab2ca 2e540dc37b69da40 f0c033272ab0e366 9bb4eda748f0c033 3bb239c75738c03f 646c9e639cc30010 100649ec531c0df3
   c40074803143fe1d 3caab9820038032d 0cd6392fee540044 401d6c8ecee708e6 880e2c9d99ae3a7e 3003b82f3c260242 c8955a8b9441bda5 80697126e17c03ad
   6a71e34ae0a784d4 f0dd77be00e6f53e a0dadbc60d7141ad 0dd835f0f86019fb aeaeea9f54fd601e 7353ca2da1bc60d6 959ad0df854f0f82 00177538f0c982ae
   0343c37ddef806ad 7955a4b7541b9a40 2697022e22b011ed e51c23e30045ac3b 33bc757c603bb1b6 66f84f34c0040401 9678d6bfc91e7a60 03a40189ed7572a9
   e61800e00c9cd8a5 f81ce79800c88036 d7d93cc6f9820189 2d91be3a39c201e9 c6538c73b227395b 4bd27c58076cc6d2 164e312758e640bd e1d29808aeb967bb
   a7d577a11670e959 c6527dbb4e5db6dd 0a7c6b8200d6bbb4 aadfac8c96a26e55 14d3a56577edd14f 0aa9e803f6acb77c 27d57ba11b7c86ff 0067ef0c1ce387f7
   bf694b4b3cdbb2c0 a1d4901e50ad1c17 e026ebd35d11af76 cd76a73570d8b37a 8bb1c2a273c1ac4a 7baa7d0e74631b28 c9e6860b3d9123b1 e85dfae55f9b0019
   653dd53e873a3006 5acc82f2fb224124 5d45d734684c01b6 5d86e05a1d2a4800 85535d534392840a 4001aa9d514858c5 aeb869c597b0ca4a 5295e6115ae12801
   9e32688088fc6db3 3b9ccfa88e9c02fc 6db33b9ccfa88e9c 02fc6db33b9ccfa8 8e9c02fc6db33b9c cfa88e9c02fc6db3 3b9ccfa88e9c02fc 6db33b9ccfa88ff2
   402fc6db33b9ccfa 88e9c07764eafecb b4a65a966997d2eb 8484ab01081500ae aaa2cef4ed1cb016 3b52c370ad6e8524 824aa9aea8a9c940 0d6002b25a01e476
   449bcdd45d734e94 c006194f7547a1ce 8c01922d0c17fb22 763d0bbb5c9bf360 03c4a7baa7d0e746 00b0da7add5d913b 2a6fa2e99a6ecdac 5d4d1354e6863bb7
   68b719ea078b4f75 4fa1ce8c5fc457d8 d7e5d63b7f6912f9 4290d243a9aa0281 b9cdd2aa29ad8d6b 9769b75706a9cd27 2eb1dbfb4862d27b aa7d0e7462ce536f
   b4e5f63b7f691b6a b40b9b2246b1bca1 7bc1a1319e273f4b 6e262633c1993693 8c6fb2a73d3b4bd2 3c582a667764738e ae718072cece5726 efcb545274293a25
   5111acd4313d987c 9f18dec9deb34fcf c25ab8dea6af978a 2a3a7412e9a99ed2 ff00c85fcb4442e5 2eb63679ca7f2575 33b7ca064472506d a19ac727fdca806e
   46456f1c140e1272 01e180b9b32284a8 b813ae56526fc829 76880260312ff51f 9d67f04c7c5a80c5 e0140280500a0140 280b87522fcde4b8 ebf96b80f52400ef
   48a14b0e14eb935a 1176514bf4c05327 a456cab05632e423 21100e59f9aff247 9e9800a00b3dacae 553cc31b187d647e 51eae36f94808dc4 2ba11cee3fd62af9
   78292463481f6b6c 8388df3044cd1ab0 ea2d6a53b20c496c 8df1d1ce1172f3d3 98bc6395c3ce56f7 4980ee4702aaa615 716ee5a53635688a 4a93a14c11acd431
   3d987c9f18dec9de b34fcfc25ab8dea6 af978a2a3a7412ef a95c1eb23855ed85 e4a773469884ca5d 6c6cf394fe4aea67 6f940fec7e3ff0c4 7a511dabad534bc8
   32c156129c537d8d b0522a30957a8ee4 78602b52fd5cd4da 421166a001feeaba 100efe3d39ff004e 47b55742035890b6 8bac48bc5b00cd62 ea9ad70318ca9eb8
   d35d429a6d658085 ea83a8145b0582b9 8535890e018290ac 2c660e5a914a607b e02a1f80ec77fb9e cd3d2805f80ec77f b9ecd3d2805f80ec 77fb9ecd3d2805f8
   0ec77fb9ecd3d280 5f80ec77fb9ecd3d 2805f80ec77fb9ec d3d2805f80ec77fb 9ecd3d28096d4af5 226a426d99c4ce2d 65a248496d201aa4 a72855d96034b80c
   83549d59dc949a98 9512285865c5b614 5d50c2c134ad306e 808998eae6a71250 ab35041ff755d080 b2ea1754d2f3ecbe 53848712df646c94 9a0c24de93ba192f
   8092ec7e3ff0c03e ee0f5b9c1aeca9cb 4de2b446c61f591f 947ab8dbe528d8dc 42ba11cee3fd62af 97829246349449da 7818630b0ab80de4 a533069899a3561d
   4dad4a7641a93c5e 31ba61e7a77ba445 cbccceec8e71d5ce 300e59d9cae4ddf9 6a8a4e852742a223 59a8627b30f93e31 bd93bd669f9f84b5 71bd4d5f2f145474
   e825d3533da5ff00 90bf968885ca5d6c 6cf394fe4aea676f 9403d545bcdc8b25 c510566a1b46f95f 41b6623928c46d3b 41d99714ebcb2a5a b6ced0da006d01a2
   00580fb01ea7b0fb 4ac4e097fe4dc80b 6c0280500a014028 0500a0140280f267 545fcd27ff0070f7 38c057600bb32d07 259c4bacaca569db 1b636c11b60e880d
   b752f6fb73cc8712 405800388deabe87 68c058ff00e595ca a79863630fac8fca 3d5c6df29011b885 74239dc7fac55f2f 05248c69283ed6d9 0711be60899a3561
   d4dad4a7641892d9 1be3a39c22e5e7a7 1d4e31cec69ce56d af49f1a03b917012 a01b48ec6ede0afb 9ab49a452549d12a 608d66a256c7916d e43e5d4616025040
   aa85e57439a4467c 3dcaadd7c2a74c2b c55376269ab41cfb 265bbdc7aeef4a37 f97dfedfda167376 1fddfde5249c4cb4 a1506d2940716a55 54e10288155570ab
   90460bb7abbb39eb 6cd9b14598e0d119 95db46c294b47173 0e36a21484940c37 1212950ae6e15c4d 6f8c4cacf7aa3583 2f2465c30829c30e 61554a55704a6997
   2653010da8e906e6 671965d1542b0ea0 1232214a178f0810 1a77dc0b3fb8abda 2feb015fd526afa7 a4df128c3890d4a1 4064142145212d60 0aa88aab5ab56580
   b5f53bd5fcfce87c beea4e062f068da1 39d855c82fc8202d 933aa2984a16a0b1 509511ad4e502ba2 031ffc61b5bbbb7e c9bfa4069fa94d56 cdcc4a32f38e24ad
   609510848c8a2320 1a00801b571ab39c 949553ccb890b0b4 0a9421571ad6e220 33d95eabd6b29684 97dba15241ec4de4 269a2036136f3fbf 1eaa6028bd50baa2
   da124eb4861d400a 4151ab6855f8446d 8800f50dd532d29b 9a0cbcea0a3016aa 06db178175e04068 df6fbfbf1eaa603c ebab574ae7e716ac a5e709e12a30163e
   a79a9a969c65d5be d9514ac24514a4dd 835da30160b6350f 22db0fb896941486 dc524e1acde94922 eae91019f6a3edf3 2330976984d9d6b8 82554293b7404548
   ca3ffb01e82979a4 392b869424a54e20 8a15d0828241ceae 48ba9ae699cf0c57 6cd17633541b189e e49f4b9d28c9c7d6 c1c82c767ef27271 a48434a4a6986175
   00922e550652622b 1bd35f0bdb28ec75 9a2d554c51ed0863 4da093b4dc016016 d2758dde4af78341 022668d587536b52 9d906a4dd4e31bec 49cf4edaf48f1a2e
   5e667764738eae71 8072cece5726efcb 545274293a255111 ad0d44eea73639ae 2b7cf8c96d9ad699 3f1999946eab1aa0 4a659bb3d075ea59 79cf020001093c2a
   04f9a34c05aac0ed 596e45ae6080a275 61ce94e077e2880a e753cfcc25ff00ee 7ca5c06db0187eaf bf3099e32798980b 5f51ec935c2d7f7c 05fe77637388be69
   80f3ac06e3a83ed0 96e2ab9ea800baa7 f682b946fe260322 91d91be3a7e2203d 146032ceabdb3cbf 2479e6023fa9776f 279373e101b14060 daaeedd9ae59ce71
   80bef521ed77f951 cd80b66a87b56679 17798603cff01e82 d483c3ecc966f6f0 5a57930083fd3d30 0740173bb14bf039 cf31a18cd6843e53 d6a7648231a68b1f
   6b6c9e637cc11334 6ac3a9b5a94ec831 25b237c7473845cb cf4e4d2838e0a8ce 56e53a4f8203b919 8512a048d8dddca4 7e9ab6c08a4e8527 44a98235a1a89fd4
   caca513446f5bda0 777e18c96d9ad699 189995920545f766 a3e9192aaa2989aa 74474b34259cb165 d7ae765995ae8015 29b6d44d3c244799 627295fbb76aae2b
   aa2266734679e88f 63769a2223366128 946d2024368000a0 0129000190011879 7627bcabea9fbabc 08ec3533654bbb4c 64bb4ba64c342154 ae5a545d14e5d89e
   f2afaa7ee7063b10 133654bb6e95372e d2083714a10922a3 688176dc7ae64188 b993acd55f4ccc69 9e9f6cbcc72de2af d18fbb4d15d51113 ec998f643b897e2a
   8f763722b9762bbd abea9fb847acb975 a8a972ed29472952 1049e1245f0e2e8e c85396e27bcabea9 fbbea24da692bc53 484545f8094a6b4c 95a0be34f28d14d3
   84bb3119a6299f05 f463713c28fea55f 54fdc195937126f8 f36e537bdfab7cb7 396623bcabea903f 654bf7bb5ea23e91 4e537bdf9df2a72b bfefd5be45b29084
   84a060a46409b80e 0022bca6f7bf56f9 5796623bcabea947 db630c252bd724d4 d1578a8a50d0c775 e857f5b8fe37f166 e066cfd39b5bb5e9 3fe1e7fe4729e3bf
   1e6e066e174e6d7d 19d102419178691e aa7e91dd726b3ee4 6e87a5f23c3f774e e81dd74e77457ac6 1c96cfb94ee85391 61fbba7e980f32d2 5d20b890b2050158
   0a2068158726b3ee 46e8391e1fbba7e9 843e0069c529b010 6a4550304d345447 9a652aa69c5dda69 9cd1154f8b629c16 1b37574fd31f63bd 7ef7765facafac69
   7195fbd3bd5e4386 eee9fa63ec0dd650 a254a482a26a4900 92749272c538cafb 677abc8b0dddd3f4 c7d896ea996d61a5 16eb79c02517e9ba 263207f5328d9a6b
   e9899d13d31a2517 96b0b628c0ddaa9a 298988d31119f4c2 1dcb51f50292fba4 11420ad641072822 b7c7ad721c37774f d31f6797f0a7b416 2d3bd1e88af22c3f
   774fd31f63853da9 bd4edbeecb3cd2b1 8b2da080515aa700 dc4049bae11a98dc 9762f58ae8a28a69 aa63a262234fc975 35cc4e76c826d46f 047aa8fa479a4c66
   6e1fb4164b72e4e5 a39b406ef408d0c6 6b421f29eb53b240 18d345a52d398525 600a6637b493b81b 6444cd1ab0ea6d6a 53b20cc9cca8b8d8 a8cf4ee53a47822e
   5ef9392ebc639ac5 67ab7274980ee418 502a250a0316ede4 11fa6a8a4a93a14d 11ad0d44fea6524a 2680049c16ee17ee e325b66b5a652966 4b2b1892a490054d
   e08c9922332f5fe2 b05547b6afc3bf4f ed9db56a33d49e8f 386e14028080b4b6 4570ff0048f67f47 7f2cb3f0f9cbc9f2 ff00e63776c78406 8994414036fe6ab8
   0c69652f53bbf0d5 e0ba8d6845c796b7 4a03875d4a2f5282 478c40f8c569a6aa b44675d4d1555ab1 9f6232d5996f5871 89a6b8570934a8a5 456be11e98f40f42
   3fa7c7f0ff000ea6 9e8f79ea1fe1cff4 b94f19f873f17a7a 3dfed0885850aa48 2348358efe9aa2ae 989cef51a6ba6a8c f4ce7d8ea2e5e501 0b359eae131e5795
   3d76efc53e2cf4ea c1a8d05c500c4f6c 6be089bf473f33b3 b67c2513977f2fbd b3ce15f8f6579314 07d80d8751b32a99 9469782a253d8d44 026f45d969a304f9
   63cd32d61b93e32b a6344fe28f9ff39d b96e73d2b1cfa486 e5c1041a3971bb77 1cde335a11794f5a 9d9200c69a2d256a 32a2b04214460377 804ee044cd1ab0ea
   6d6a53b20d49cbaf 18deb159e9dc9d22 2e5ee2754718e5e7 3d5f1301dd9ea384 abff004ddf96a8a4 a93a15011ad0d44f 6a6cf639ae2b7cf8 c96d9ad6994f5849
   3af51aed0feb1caf a537ba6ddadb3faf 6479b7ac46994ac7 1ed828050101696c 8ae1fe91ecfe8efe 5967e1f39793e5ff 00cc6eed8f080d13 2882806dfcd57018
   d2ca5ea777e1abc1 751ad08b8f2d6e94 0537aa876bb5caff 0069899c89d755b3 cdd07a3bd7d7f0f9 c292ff006931fb89 9f972f1d33b05b35 19dac38ca8ebb237
   ab46d9775e8ffa9c 6d94ec4aa70a0216 6b3d5c263caf2a7a eddf8a7c59e9d583 51a0b8a0189ed8d7 c1137e8e7e67676c f84a272efe5f7b67 9c2bf1ecaf262805
   01a175309a380fb5 53714af2dd782327 9238bf4aad66aedd ced898ddff00d6cd 89d30d0a74f6297e 0739f1c26335a11d 94f5a9d9204c69a2 d216b28e305fb86f
   9822668d587536b5 29d9066494718dde 73d3ce1172f39392 e718e6b919cadda3 49f0c07722c10546 a9d8ddc8a493b1ab 6818a4a93a254c11 ad0d44fea653544d
   0bb35bca4019fa4c 64b6cd6b4ca418b7 e4e56ad3f38ca175 a94a969a8040a6de d8a1f2c71fe90613 137f179eddb9988a 6233c469f6f9e66f daaa229e99107559
   2012166798c12549 07189a1290091e40 a4fa4442f3563736 7e2aadcc9c653dae 3ef959ddff002fed 1314e6bc677556e9 3874f69c7b557208 a614eb0308050aad
   37a4e423c1159c95 8d8ff6aadc7194f6 a067f553225c5113 ac91c74e88f55c87 545ac9f6a8b9f866 23a6274e9979ae5a c0626ee3aed745ba aa899e8988fd20db
   faa1936d4a42e6da 0a4929502b4d4292 6841f2c4b71f6fde 8464e4ac6c4e6e2a adcfb2faa0947141 089a694a51a00169 a93149bf6e3fd50a d392b1b339b8aab7
   187b54d25827fe31 9c877698d5ca1729 af0b769a673ccd33 d1f228c998ce147f 4aadc09ab6659614 5330d1084e12b5c2 e4d426a7caa03cb1 e77181c44ffa2773
   72326e2e7fdbab71 afbc129df4d7ae22 9c8b11ee4ee539bb 15ddd5b958ea873c d3f2cd969c4ac25d 0145241a15215406 9a687d112b9230f7 6dddaa6ba662337b
   76a7321616f5abd5 557289a6337b63f5 545fed263f7133f2 e5e3a0750b36a5e6 90ccaa31ab4a3094 b29c220540342479 63a7c958ab36f0fc 1aea889cf3a65d8e
   44c6e1ed61629aeb 889cf3d13294fb66 5fbbb7eb0892e5d8 6f7e37a5f9cb09de 53bddbb6a3083453 c80689550a864524 2927ca083e5872ec 37bf1bce72c27794
   ef452e79a5b944ba 8254aa0bc5e49a08 f38ca36eaaf1772a a633c4d539a7e6cf 19530714f5b4ef36 fcdb685290a71214 92524545c41a111a 5c45cf76558ca983
   98cfc6d3bdd4b4c2 1c38287124d14aa6 10c88495a8f90249 f24388b9eec93957 05119f8da77849c9 e68a140389269a44 4b64189b3942d577 3f0d313d333a344a
   372ce3f0b7303768 a2e533331d1113fa c229a461a56b4905 2d80a59a8b829410 0f86f5011eabceb8 28cd1c6d3bde69c5 d5d8671c9df08af3 a60fbda77c1c5d5d
   878b67161dbb00a8 a2b519c005114cb9 088a73ae0b3e6e36 9de7175762d5d4c1 e0669680e246134a a02a090a29524ed9 a120617be203d22c 5e1afe1e98b75c55
   3157b273ce6cd3fc 32d9a6627a5ac5a0 9a372e2ec8e64208 cfd223cff19ad08f ca7ad4ec900634d1 693b4d92560d5398 de55241cc1b44c4c d1ab0ea6d6a53b20
   d49cb9c637ae467a 7768d23c3172f333 bb239c757c4c03b6 60aad434b6efcb54 527419a67a215a16 73bbcf7a7eb1ab9e 15e6ec4fbbfbc7dd 3361cb2d0dcc950a
   552dd2f1bf8cb6a7 a549c35db5d35c66 ceca7aa1482173ae 29536cb6705bd6ac 3f859a2fd636a1ef 8cc23a66cd6face5 c75ecbd03d3241a4 cd0d52c5db0d6a29
   ef1e1a0467d94d77 fcb7a26bfc3012da a1b35b3d6d59d605 259917899bc5f78a 339386f808936535 dff2fe89aff0c049 6a92cc6ccdcd133d 2e2afbc6844cd455
   c371a3245780c039 a94b35b4cdcb913a c28e1e40266a6e3a 5903d260224594d7 7fcbfa26bfc3012b 6259ad844e527583 59722e13370c6b57 9ab3936aea9be022
   beca6bbfe5fd135f e180946acd6fac9d 4f5eb14eb860e152 6695c5bd76c35f76 d4072f598df59b23 afa5e81f9835a4cd 092db170ec35ba9e f1e1a03969d9ad99
   5921d7ac0a07e848 99a1eca72761afa6 90113f6535dff2de 89aff0c048dbd663 65d4ff00c74b8ec1 282844ced4b362b7 3390e5f2ed400f66 598d879a3d7d2e7b
   222e026aa75c2ed8 601cb6ecc6ccccc1 ebe971575db8899a 8d79b8d19a403fa9 cb35b0f544ecbabb 14cdc04cedcbb82b 7b39065f240458b2 9aeff97f44d7f860
   256cbb35b0c4e8eb d60d5b6aa4099a27 b3b66a6acf92eac0 457d94d77fcb7a26 bfc3012cbb35beb1 4a7af58a75cace15 26695c522ed86b5f 25200eea7d22844e
   b6a4cdb2e1c1735a 80f8275a77eda47b e0355b76d46d86e5 82eb7a5c2282b917 196de48c463bf159 cdd1d139e737935e f64cbf8c989b59ba 3b67f8431d52b1e3
   fa3ffb193fcab8ff 00eddf3f661ff2ee 33fb77ff000b35a6 bc25a543216da3e9 6d2635e689a27813 a63a373769a26888 a67d9d06a4b646f8 e8e708a2a7a71b46
   31cec87395b93a4f 8601eb29090e5cba 9c072ec1237076eb 14ab44afb5af4ed8 051a6e9864a005a7 ea68288be95dde88 cb674ca33296ad3b 6585f55148168394
   35180d50d295d60f fec6c22502fcda55 2ccb22b84871f59d 14712d04d0f98af7 4077a9fb15d9e7d3 2cc94e1aab4c3341 70a9bc0301356ad8 ae3ec2a650538124
   86e5dea920e31248 3802978bf2dd003a f517321d946096f0 a6d216d6b8d0022b ae34bbdf00fdb3a9 c79f76d399414604 bbce15d49068a592 30452f8032c3d4a4
   c4b4d34e3851443b 2e9382a24d66520b 74bbc615d10118de a2a64e42dffccee8 ff00cad439b5e29a 69f0401b66ea69f6 51358451af979702 849be69e406eb778
   86ba2ecb000bda8c 99410096ef75d673 8e7b28c62b6b2532 407cb56cf5ca4a96 5d2309c7d0b4e09a 8a34dab0aba36647 bf44004ff6931fb8 99f972f007cac82a
   7a5d86d922ac61a5 78770abaa5b89a52 b5b90603b46a1a68 edb5950338eef26d 401b6bea4261d5a5 692dd032da6f51cb 2cca1a5ed6f9069a 4403725a899a6dd6
   d64b744b8d13451d d1046d407db5b51f 30e3af3c92de0ad4 fb82aa35c14acd6a 2996f80b458dd47a d265d2b52a5c8c5b e8b9c56571a5b69d c64aa84001f82569
   efa5bda2ba1007c8 751fb45b6a65b2a9 7aba842534715952 ea166bacd0930154 d57f53c9cb2d943f 325a2952c36316a2 a38452a55e0a45d4 49808254e27ad12c
   5f861e539e0c1284 a45fa6a0c04e752e 4836837534180ed4 d2b4d691f480d23a a1001327435180ed f4a7ea688eb3d1bd 4b9b63c13192f56a 5363a54ab5999424
   e2eaba1c533760d7 f4d3b758f34c475d 5fc53e2e56e6bced 92936d18c6fb21cf 4ee4e91e18c2b0cc eec8e71d5ce300fd 8fb2798e730c5274 4afb5af4ed80f1a4
   e985cbec4ff037cf 119ace9946652d5a 76cb1ceab92e44c3 0e56e536534d180a 249fe31e88d844a8 50172ea45f99b1c0 be69809994fcaedb fdcff78809b99fcc
   353fc88e6c002df6 bea8b943f13012b3 3b22bf7164f35b80 66576bff0073f15c 032fe6b9c8d8dfcc 180ead2ce6ff007d 3ffcb4054baa366c bf19df96c40579fe
   d263f7133f2e5e02 c3d4e336638cd7cb 7e02f2c64f3a5fe3 01f559a78b35ce80 75597cf96f84030e e61e4e6b9d01b398 0500a032dff50df9 7b1fba47ca7603cf
   9017dea452e4befb 95b92d84d34e1a81 aff01f4c05db57f9 925c477e64759e8d f57736c7826325ea d5f253e3a54ab559 cfd3e499f9698f34 c475d5fc53e2e56e
   6bced97325b237c7 4738461587a714de 31cd62b395bb1a4f 8b00f594a4632e4a 81c0732a81dc1dac 11149d12bed6bd3b 6014693a61928462 9fa82451190d377a
   6863359d328cca5a b4ed967bd56a5039 28875092314e02aa 9075abd6e81b783a 72c6c22590405cba 917e66c702f9a602 6653f2bb6ff73fde 2026e6bf30d4ff00
   2239b000b7dafaa2 e53fa9809599d915 fb8b279adc0332bb 5ffb9f8ae0197f35 ce46c6fe60c07569 6737fbe9ff00e5a0 23edcb191365a4b8 a50095dd834fd454
   ab47283b4b278602 397a9768cb21bc35 d1186f0cdae138c2 1441bb255b1e9301 2361d8c8942ea5b5 28852efc2a7e9aa6 9a1900da403c3580 9c63279d2ff180fa
   acd3c59ae7403aac be7cb7c20187730f 2735ce80d9cc0280 50196ffa86fcbd8f dd23e53b01e7c80d 7fa92ca06e516ead 24e35c2534206b51 add076eba32404b7
   54223024e808180e e5353b269a08eb3d 1beaee6d8f04c64b d5abe4a6c74a956b 332a4763aa544e29 9c8a03f4d3b58263 cd311d757f14f8b9 5b9af3b64a4d4de3
   1ba2159e9dd8d23c 58c2b0cceec8e71d 5ce300fd8fb2798e 730c52744afb5af4 ed80f1a4e985cbec 4ff037cf119ace99 46652d5a76ca0ada 90132c3ac119e920
   56972b2a4df92840 be36112f3fbcd142 94950a2924820e50 41a10602dfd48bf3 363817cd3013329f 95db7fb9fef10137 33f986a7f911cd80 01bed7d517287e26
   025a676457ee2c9e 6b700ccaed7fee7e 2b8065fcd7391b1b f98301d5a59cdfef a7ff009680e8e7a3 8edfce938067f47f ed7ff9a01e19ebe3 b9f3a7200b63279d
   2ff1804acd3c59ae 7403aacbe7cb7c20 187730f2735ce80d 9cc028050196ff00 a86fcbd8fdd23e53 b01e7f65a2b52509 15528848032924d0 080f4058b2025986
   98006b1201a52f56 551bb2d4d6f808fd 5fe649711df991d6 7a37d5dcdb1e098c 97ab57c94f8e952a d5673f4f9267e5a6 3cd311d757f14f8b 95b9af3b65cc96c8
   df1d1ce118561e9c 7fb239ac4672b6bc 27c300f594f55ca6 0246b1cbc0a1cc3e 18a4e895f6b5e9db 0084693a61928aa3 4f9a0373771c99f1 9ace9946652d5a76
   c85eb8ff006d1e83 f58d844b1feaa160 961f1348400d4c13 9a2812ea402b1a05 6a15eb6880a9d956 9bb2ae25e61650e2 6b450a1a56e39452 01e4db9301b7990e
   9c5beac375344ebd 596a6ea8f2405dec 99e71c44a3eb592e 328a34abaa8178a0 dac9a6009c3382fa 2bad9835786fce93 a3c948075536b26a 546b84d2b6b399a0
   6cf9b41e8807ecc7 49712926eecd772e 0977d6a9809c32a8 208c117869278183 84d8f34de201392a 855094d68b5b832e 7b89c05abca9ba01 75b22a0e0e420f94
   14a87bdb41f36024 ac5b2d9585a56d82 004a40bf21494532 ef6e8095fb125ea4 e245e49397292a51 dbd2e387ce301d26 c86064686e4e53b9 cddbda80fbf64319
   314374329dddeadb db809997d4fca94a 4961352106b55654 8b8e5da80ecea6a5 08a75ba69450caac 8bbd432edc04b402 805011d6dd872f3a 80d4d32975095058
   4aab40a00a6b711b 4a3e980ac5a9a8ab 36552975a90682c2 d3824e19a117d684 d36a019eb8ff006d 1e83f580aef54255 51266806b1db85c3 648eb3d1bd4b9b63
   c13192f56af929b1 d2a55accc3d4c58c 049ec4cde454ec69 f0c79a623aeafe29 f172b735e76c949b fd91bd6233d3b474 8f0c61586674f647 38eae71807ec7d93
   cc739862956895f6 b5e9db01c4693a61 52fb13fc0df3e335 9d328cca5ab4ed90 158d84486d54d8c9 9db3cb24d0e354a4 2b7ab0814f21bc1f 0180f3ecd4ba9a5a
   9b58a2924a543411 71806a0340b07b5d ae2ff53007c02803 2c9d951e5f8180b1 c07d8050131a9efd 4f37fac04cc02805 013f29988e28f840 3d00a0140280e1d7
   0241528d001527c0 202a7684e979a5af 6b1a9091a0041a7d 60226b0105abecc9 2e23bf323acf46f5 2e6d8f04c64bd157 c94f8e952ad5270e c7c933f2d31e6988
   ebabf8a7c5cadcd7 9db2f9247b237c74 738461587a726dc0 e38038ace56d9d26 01eb2a656a72856a 2301cb8927706293 a257dad7a76c0211 a4e98c5a130b6da5
   942d493adbd248db 1a22b1331a165545 356b467da83fb55f eeee7aeafac57853 dab788b7eec6e858 aca9d74ca8517564 e3942a5449a6026e ac67b53331d288c7
   d14d3722298cdd1f 73d6559f24eb8aeb 99361d5b86b8c71a 6d6a2ac9452942a7 6af3195a49ff00b9 d66ffd3a53d835d1 8021bd4ec9a404a6 4d8006401a6c01e4
   a40762c194ef463d 937f480f25ceda0f 071c01e7000a5000 29592a7c300d22d3 7c1a87dc07485a87 f58077edb9aefa7b da2feb00bedb9aef a7bda39f5805f6dc
   d77d3ded1cfac076 dea827139b38f8ae 875c1f0301dfde69 eefe99f6cef4a017 de69eefe99f6cef4 a017de69eefe99f6 cef4a03b1aacb405 c2d09af6ef74a03e
   fdedb47fea335edd ee9407ac6cb512cb 2492496db249bc92 500924c01500a02b 5aa0b58d714da88a 1d711754e81e0808 3b5675d12a541d58 38e48a85106980a3
   4ac62bb3311d0ddc 0514d57262a8cfd0 aefdaaff007773d7 57d63070aaed4bf1 16fdd8dd080b6a6d c71cec8e2d783930 94554a8a9a57247a 17a3f4c460a8ab37
   4ce7cf3dbd32cb45 14d31f863323e26d 91accc4c2d38b016 a0314cdc091fa698 f34c475d5fc53e2e 56e6bced92939a70 b8d82e2b3d3b6748 8c2b1f6725165c70
   841ce57c4c03b65c b2d2e54a48180e5f e618a4e895f6b5e9 db0084693a6076be c4af27c44057602d 361b4a54a6b413d9 d5938898d9b5aa85 ca3d646cf393fd66
   e6f0c65682d7674e 1096d0e03528ae11 c95a9143a0d008b6 baa9a299aaa9cd11 ed07e393be11a9ce 583ef69faa17702a ec7d0f277c3d314e 72c1f7b4fd50702a
   ec79427351f68171 c2245f20a9447635 e4a9f0439cf07ded 3be0e055d867ee6d a3de0ffb35fd21ce 783ef69df0702aec 2fb9b68f783fecd7 f48739e0fbda77c1
   c0abb0bee6da3de0 ff00b35fd21ce783 ef69df0702aec353 5a979d69386e49bc 84dc2aa4280a9c82 a445f6f1f85b93c1 a2e5333b6192de1e edcab83453333fa4
   02fb35eee4bf418c dc75bf7a1b1cd78c eeaadd2365752f3a ea70db937969bc55 285115196f0230dc c7e16dcf06bb94c4 ed6bdcc3ddb55706 ba6627f583bf736d
   1ef07fd9afe91673 9e0fbda77c31f02a ec2fb9b68f783fec d7f48739e0fbda77 c1c0abb0bee6da3d e0ff00b35fd21ce7 83ef69df0702aec2 fb9b68f784c7b35f
   d21ce783ef69df07 02aec7aaecc70259 6524d086db041ca0 848041873960fbda 7ea838157609c727 7c3d30e72c1f7b4f d50702aec0168ce1 29710d83508ae10c
   95a8141a4d098dca 2aa6ba62aa673c4a d553acdcde18b831 6e34a4ca6b811d9d 197935462bdaadfc 9dd64ecf38556359 3486b47645793e11 e8de8ffa851ff2ff
   00b4af8d01626556 b5312eb562c84923 14cdff00f6d31e69 88ebabf8a7c5cadc d79db252728e071b 25073d3f11185618 9d1d91ce3ab9c601 fb1f64f31ce618a4
   e895f6b5e9db01c4 693a6076bec4af27 c44057602cb6476a 0e5d7f2d31b36b55 0d947ac8d9e72729 1951e32d01ad6393 1ce54013236a5289 73c8afafd6392cab
   e8f70a66ee174e99 a7edf6dccf45df64 a6238eaa99a6734c 666c4145aa940280 50159ea89da4ae3a 3fac4a647f598d92 98c85eb91b259447 58eddab753aed24f
   1d7fd2393cb1eb33 b21c465df5c9d90b 3c45a1ca01402805 17534cd539a233ca 92879eb52b54b7e5 57d3eb1d8e4af47b 839aee2be54fdfed bdaf5ddf6521acf1
   ad7f923cf4c75ac0 0e901c5afda67974 7cb5462bdaadfc9d d64ecf3856235934 86b47645793e11e8 de8ffa851ff2ff00 b4af8d01626556a9 38363e499f9698f3
   4c475d5fc53e2e56 e6bced97c921d91b e3a39c230ac3d38c 0c639d9119cadf69 3e2c03d65320395c 349d639930b787c1 149d0ba89cd544c8 70d0ee88fe2e8c6b
   f15526b9c2cfebb8 d4ec8175a5842d17 609352a14aa878b0 e2aa39c2cfebb909 f61afba35eb2ba30 e2aa39c2cfebb93b 67c896e54254b46c ca35054466245337
   2dd196dd334c74a3 7177a9bb5c4d3d8f 9881dd11fc5d18c8 d5193cc8c167b227 63f1afd72af17400 6581dd11fc5d1809 59c98521e5d1c452 a35aac2d0340ba23
   31f9270f8ce9ae33 55ef469f9f6afa6e 4d3a053338855005 8a9dabf2e81502b1 c56372262b0d339a 9e1d3db1e71ecffd e96cd37699111119 990a28140563aa2f
   692b8e8feb12991f d66364a63217adc6 c96511d63b76afd4 ebb493c75ff48e4f 2c7accec8711977d 727642cf11687280 515cc077a7109a82 a184368d72e83406
   913182c898ac4cc6 7a7814f6cf947b7c 3f563aaed30164e6 14b79157114a9d6a 70afb8e917c76980 c9387c1c67a233d5 ef4e9f97635aaae6 a4506077447f1746
   24d60c916460bdd9 11b1f8d76b9379ba 004c40ee88fe2e8c 029f912e4a94a568 d9926a4a80cc50a6 6e5be31dca66a8cd 0dac25ea6d573357 620bec35f746bd65
   7463171552479c2c febb80cf6a45f242 f18d04ab375cabe9 71dce98ebb25656c 3e170b4dab99f3c6 7d11db332ba328d9 fd7706fba2f77567 d65f462479ff0009
   fddb8e72b3faaf73 b2f42805680436d0 39db4da4688e36f5 5155caaa8d13333f ba12b9cf54cb9936 0631bec88cf4efb4 8f1631ad333bb239 c75738c03f646c9e
   639cc30010803653 6298e06f9e200280 355dae9e555cc100 1401b6866b1c9ff7 2a0023006db3b339 c239a2039b2b666b 8e9f8c0244f38826 8abaa6e378cb11b8
   bc9384c4f4d74669 ed8e89fe7e6be9b9 542464ad2c3c2053 4c14a96483bdf044 05ff0045674dab9f 298f38fb32c5fed8 3c8b49a3baa70822 226ee41c75bff467
   d9313fcfecc91769 941eaf4e3249781a ea2dbae0df4bce5a 466c9981c4dabfc2 aedd5119a7a66253 190eed118b8cf311 d12cbbadd7bc57a0 c747c19ec76dc7db
   f7a37c351d411c5c 9230f5b55b94c2ba b78c958e7329e071 376ff0a8b754c668 e9889715972ed138 b9cd313d109c5da4 d0dd578013186d64 1c75ccdf8383b662
   3f9fd90d37698333 b696060809ae1252 b15f1b6a912d63d1 59d376e7ca23ce7e d2c737fb211ab9e7 1645557545c2e196 27f0b9270986e9a2 8cf3db3d33fc7c98
   aab9554fb6b6ccef 1d5f189258eac6d9 9be13cd300108032 cfcd7f923cf4c007 006a7b5d5caa7986 0028036736297e07 39e60023006dafb2 798df30403125b23
   7c74738403d381bc 639552f395b94e93 e3403d6504632e52 b31cca91bc3e3400 612def97eaa7a500 64a04629fd72a944 575a37e326baf800 e8def97eaa7a5005
   a823add3ae5531aa dc8ad70478d00251 bdf2fd54f4a00c9e 08c166aa56c77512 32612b2eba00321b df2fd54f4a00cb5c 231cbaa955a8c890 4668f1a039b2c378
   e6a8a5570d34aa53 a78d003b81ba9d72 f29dca7a500559c1 15728a56c4e6548c 94e3400782def97e aa7a500630118977 5caa61375d68aeea 9ba80128def97eaa
   7a5053340b7c2312 d6b954c2729ad15d cd6bae82a0e8def9 7eaa7a50065a4115 6eaa56c4de44a725 38d002b61ba8d72f 28dca74f1a008b50 378e76aa5d70d55a
   253a78d01d590118 e4514aad4e54a46e 4f8d00184b7be5fa a9e94019221182fd 14ad8efd6a726127 26ba003c16f7cbf5 53d28031211d6ead 72a98d4ee456b827
   6b0a003c16f7cbf5 53d28032682314c6 b954a2e9ad1bfdbd 7400746f7cbf553d 28032d508c65ea56 6379123783c68066 4c378c6f5cbcf4ee 53a478d00cceec8e
   71d5ce300fd91b27 98e730c004200c94 d8a6381be78800e0 0d576ba795573040 05006da19ac727fd ca8008c01b6cecce 708e6880e6cad99a e3a7e30033994f09
   802ecccaef24e7c2 00280358d81ee335 fdd001401afec0cf 19dfed800a00db4f 2b5c937f08011bca 3847c6009b5b6677 8eaf8c075636ccdf 979a60021006d9f9
   aff25fde9800a00d 4f6bab954f30c005 006ce6c52fc0e73c c004600db5f64f31 be6080624b646f8e 8e7080ffd9
   """)


(fun dump [] void :
    (let! data (span u8) test_image)
    (while (> (len data) 0) :
        (let n uint (min (len data) 1024))
        (fmt::print# (span_val (front data) n))
        (= data (span_val (pinc (front data) n) (- (len data) n)))))


(@ref global! gByteBuffer (vec (* 1024 1024) u8) undef)


(global! Crc32Tab checksum::CrcTab undef)


(fun main [(param argc s32) (param argv (ptr (ptr u8)))] s32 :
    (do (checksum::InitCrcTab [checksum::PolyCrc32LE (&! Crc32Tab)]))
    @doc "(do (dump []))"
    (fmt::print# "image byte size: " (len test_image) "\n")
    (trylet fi JD::FrameInfo (JD::DecodeFrameInfo [test_image]) err :
        (return 1))
    (fmt::print# "image format:" (. fi format) " pixels:" (. fi width) "x" (. fi height) " ncomp:" (. fi ncomp) " mbsize:" (. fi mbsizex) "x" (. fi mbsizey) " mbdim:" (. fi mbwidth) "x" (. fi mbheight) "\n")
    (for i 0 (. fi ncomp) 1 :
        (let comp auto (at (. fi comp) i))
        (fmt::print# "comp: " (. comp cid) " " (. comp ssx) "x" (. comp ssy) " " (. comp width) "x" (. comp height) " stride:" (. comp stride) "\n"))
    (do (JD::DecodeImage [test_image gByteBuffer]))
    (test::AssertEq# 394850026_u32 (checksum::CalcCrc [(span_val (front gByteBuffer) 151776) 0 (& Crc32Tab)]))
    (do (JD::ConvertYH1V1ToRGB [gByteBuffer]))
    (test::AssertEq# 1970744859_u32 (checksum::CalcCrc [(span_val (front gByteBuffer) 151776) 0 (& Crc32Tab)]))
    @doc "test end"
    (test::Success#)
    (return 0))
)
